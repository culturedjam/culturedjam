import type * as React from "react"

import cssVar from "../helpers/css-var"

type JamProps = { flavor: string }

function ActualRealJam({ flavor }: JamProps) {
  return (
    <path
      d="m11.631 17.022c-1.6048 0-1.0481 3.381-1.0481 5.7319v22.225c0 1.4658 1.18 2.6458 2.6458 2.6458h26.458c1.4658 0 2.6458-1.18 2.6458-2.6458v-22.225c0-2.3508 0.5567-5.7319-1.0481-5.7319z"
      fill={flavor}
    />
  )
}

const popupTitle = (isEmpty: boolean) =>
  ` This jar is ${isEmpty ? `all out of` : `full with`} Cultured Jam`

type JarProps = React.ComponentPropsWithRef<"svg"> & {
  isEmpty?: boolean
  size: number
  flavor?: string
}

type EmptyJarProps = { isEmpty: true } & Omit<JarProps, "isEmpty" | "flavor">
type FullJarProps = { isEmpty?: never } & Omit<JarProps, "isEmpty">

type JarOfCulturedJamProps = EmptyJarProps | FullJarProps

function JarOfCulturedJam(props: EmptyJarProps): JSX.Element
function JarOfCulturedJam(props: FullJarProps): JSX.Element
function JarOfCulturedJam(props: JarProps): JSX.Element {
  const { flavor = cssVar(`--highlight-color`), size, isEmpty = false, ...restProps } = props

  return (
    <svg
      aria-labelledby="title"
      height={size}
      role="img"
      viewBox="0 0 47.625 47.625"
      width={size}
      {...restProps}
    >
      <title>{popupTitle(isEmpty)}</title>
      <g transform="translate(0 -5.2917)">
        <g transform="translate(-2.6458 2.3812)">
          {!isEmpty && <ActualRealJam flavor={flavor} />}
          <path
            transform="translate(0 -244.08)"
            d="m15.875 249.37h21.167c1.4658 0 2.6458 1.18 2.6458 2.6458v2.6458c0 1.4658-1.18 2.6458-2.6458 2.6458h-21.167c-1.4658 0-2.6458-1.18-2.6458-2.6458v-2.6458c0-1.4658 1.18-2.6458 2.6458-2.6458z"
            fill="#999"
            stroke="#000"
            strokeWidth="1.0583"
          />
          <path
            transform="translate(0 -244.08)"
            d="m15.875 258.9c-4.2607 0-5.2917 3.2358-5.2917 7.9375v22.225c0 1.4658 1.18 2.6458 2.6458 2.6458h26.458c1.4658 0 2.6458-1.18 2.6458-2.6458v-22.225c0-4.7016-1.031-7.9375-5.2917-7.9375v-1.5875h-21.167z"
            fill="none"
            stroke="#000"
            strokeWidth="1.0583"
          />
          <g>
            <path
              transform="translate(0 -244.08)"
              d="m16.109 265.91h20.7c1.9113 0 3.4499 1.5387 3.4499 3.4499v10.158c0 1.9113-1.5387 3.4499-3.4499 3.4499h-20.7c-1.9113 0-3.4499-1.5387-3.4499-3.4499v-10.158c0-1.9113 1.5387-3.4499 3.4499-3.4499z"
              fill="#fff"
              stroke="#000"
              strokeWidth="1.38"
            />
            <g transform="matrix(.61646 0 0 .61646 14.983 1.4545)">
              <g transform="translate(0 5.8208)">
                <path d="m1.8941 36.055q-1.3547 0-2.1167-0.72813-0.762-0.72813-0.762-2.0574 0-0.90593 0.3556-1.6002 0.36407-0.69427 1.0245-1.0668 0.6604-0.381 1.524-0.381 0.70273 0 1.3547 0.254l-0.2286 1.0922q-0.57573-0.26247-1.1176-0.26247-0.77047 0-1.2192 0.508-0.44873 0.49953-0.44873 1.3377 0 0.85513 0.47413 1.3293 0.47413 0.47413 1.3123 0.47413 0.55033 0 1.0668-0.1778l0.18627 1.0414q-0.61807 0.23707-1.4055 0.23707z" />
                <path d="m6.6439 36.055q-0.70273 0-1.2361-0.29633-0.5334-0.29633-0.82973-0.82973-0.28787-0.54187-0.28787-1.2446v-3.3782h1.2361v3.2851q0 0.62653 0.29633 0.99907 0.3048 0.36407 0.82127 0.36407 0.51647 0 0.82127-0.36407 0.3048-0.37253 0.3048-0.99907v-3.2851h1.2277v3.3782q0 0.70273-0.29633 1.2446-0.28787 0.5334-0.82127 0.82973-0.5334 0.29633-1.2361 0.29633z" />
                <path d="m10.183 30.306h1.2277v4.572h2.032v1.0668h-3.2597z" />
                <path d="m14.772 31.373h-1.5409v-1.0668h4.3011v1.0668h-1.524v4.572h-1.2361z" />
                <path d="m20.775 36.055q-0.70273 0-1.2361-0.29633-0.5334-0.29633-0.82973-0.82973-0.28787-0.54187-0.28787-1.2446v-3.3782h1.2361v3.2851q0 0.62653 0.29633 0.99907 0.3048 0.36407 0.82127 0.36407 0.51647 0 0.82127-0.36407 0.3048-0.37253 0.3048-0.99907v-3.2851h1.2277v3.3782q0 0.70273-0.29633 1.2446-0.28787 0.5334-0.82127 0.82973-0.5334 0.29633-1.2361 0.29633z" />
                <path d="m24.28 30.306q0.254-0.0085 0.94827-0.0085 0.70273 0 0.95673 0.0085 0.9652 0.03387 1.4393 0.47413 0.47413 0.4318 0.47413 1.1684 0 0.62653-0.32173 1.0668-0.31327 0.4318-0.88053 0.56727 0.1778 0.14393 0.36407 0.39793 0.18627 0.24553 0.51647 0.77047 0.34713 0.55033 0.70273 1.1938h-1.4224l-0.95673-1.778q-0.1524-0.2794-0.2794-0.34713-0.11853-0.0762-0.36407-0.0762v2.2013h-1.1769zm1.7018 2.4977q0.4318 0 0.67733-0.22013 0.254-0.22013 0.254-0.59267 0-0.33867-0.22013-0.51647t-0.64347-0.1778h-0.59267v1.5071z" />
                <path d="m29.055 30.306h3.429v1.0668h-2.2183v1.1261h1.8373v1.0329h-1.8373v1.3462h2.2183v1.0668h-3.429z" />
                <path d="m34.431 35.954q-0.60113 0-0.89747-0.0085v-5.6388q0.36407-0.0085 1.0753-0.0085 0.71967 0 1.0753 0.0085 0.82973 0.0085 1.4393 0.33867 0.61807 0.32173 0.94827 0.92287 0.33867 0.60113 0.33867 1.4055 0 0.88053-0.38947 1.5494-0.381 0.66887-1.0837 1.0414-0.69427 0.37253-1.6171 0.381-0.29633 0.0085-0.889 0.0085zm0.88053-1.0753q0.85513 0 1.3462-0.49953t0.49107-1.3716q0-0.7874-0.42333-1.2107-0.41487-0.42333-1.2023-0.42333h-0.762v3.5052z" />
              </g>
              <path d="m0.98957 57.654q-1.1867 0-2.1689-0.42968l0.77752-2.4758q0.61383 0.32738 1.0844 0.32738 1.0231 0 1.0231-1.2686v-10.087h2.8646v10.333q0 1.6574-0.98213 2.6395-0.96167 0.96167-2.5986 0.96167z" />
              <path d="m10.934 43.72h3.5602l5.0539 13.627h-3.0692l-1.1049-3.1101h-5.3608l-1.0435 3.1101h-3.0282zm3.5602 7.9798-1.8415-5.2176-1.7801 5.2176z" />
              <path d="m24.111 47.73-0.85937 9.6167h-2.6395l1.289-13.627h3.683l3.4784 9.7804 3.3761-9.7804h3.683l1.2481 13.627h-2.6599l-0.94121-9.5758-3.6012 9.719-2.4349 0.22507z" />
            </g>
          </g>
        </g>
      </g>
    </svg>
  )
}

export type { JarOfCulturedJamProps }
export default JarOfCulturedJam
